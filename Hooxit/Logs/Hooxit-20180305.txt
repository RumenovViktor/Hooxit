2018-03-05T23:48:03.3088270+02:00  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:48:03.6479920+02:00  [INF] Executed DbCommand ("66"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2018-03-05T23:48:03.6753148+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2018-03-05T23:48:05.6600574+02:00 0HLC2SB30NALD:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:49743/   (ca22a1cb)
2018-03-05T23:48:05.9605703+02:00 0HLC2SB30NALD:00000001 [INF] Executing action method "Hooxit.Account.Controllers.AccountController.Index (Hooxit)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:08.7210876+02:00 0HLC2SB30NALD:00000001 [INF] Executing ViewResult, running view at path "/Areas/Account/Views/Account/Index.cshtml". (9707eebe)
2018-03-05T23:48:09.0121705+02:00 0HLC2SB30NALD:00000001 [INF] Executed action "Hooxit.Account.Controllers.AccountController.Index (Hooxit)" in 3071.436ms (afa2e885)
2018-03-05T23:48:09.0320063+02:00 0HLC2SB30NALE:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:49743/css/site.css   (ca22a1cb)
2018-03-05T23:48:09.0560524+02:00 0HLC2SB30NALF:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:49743/js/site.js   (ca22a1cb)
2018-03-05T23:48:09.0830198+02:00 0HLC2SB30NALE:00000001 [INF] The file "/css/site.css" was not modified (f1f8d725)
2018-03-05T23:48:09.0878319+02:00 0HLC2SB30NALD:00000001 [INF] Request finished in 3469.2739ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:48:09.1167880+02:00 0HLC2SB30NALF:00000001 [INF] Request finished in 58.4602ms 404  (791a596a)
2018-03-05T23:48:09.1379773+02:00 0HLC2SB30NALE:00000001 [INF] Request finished in 75.6446ms 304 text/css (791a596a)
2018-03-05T23:48:09.1735644+02:00 0HLC2SB30NALF:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:49743/js/site.js   (ca22a1cb)
2018-03-05T23:48:09.1782417+02:00 0HLC2SB30NALF:00000002 [INF] Request finished in 4.0087ms 404  (791a596a)
2018-03-05T23:48:10.7378180+02:00 0HLC2SB30NALF:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:49743/Register   (ca22a1cb)
2018-03-05T23:48:10.7486233+02:00 0HLC2SB30NALF:00000003 [INF] Executing action method "Hooxit.Account.Controllers.AccountController.Register (Hooxit)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:10.8744990+02:00 0HLC2SB30NALF:00000003 [INF] Executing ViewResult, running view at path "/Areas/Account/Views/Account/Register.cshtml". (9707eebe)
2018-03-05T23:48:10.9078229+02:00 0HLC2SB30NALF:00000003 [INF] Executed action "Hooxit.Account.Controllers.AccountController.Register (Hooxit)" in 160.7962ms (afa2e885)
2018-03-05T23:48:10.9197416+02:00 0HLC2SB30NALF:00000003 [INF] Request finished in 175.7474ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:48:10.9498356+02:00 0HLC2SB30NALF:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:49743/js/site.js   (ca22a1cb)
2018-03-05T23:48:10.9540776+02:00 0HLC2SB30NALF:00000004 [INF] Request finished in 8.8554ms 404  (791a596a)
2018-03-05T23:48:19.4514383+02:00 0HLC2SB30NALF:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Register application/x-www-form-urlencoded 264 (ca22a1cb)
2018-03-05T23:48:19.5165880+02:00 0HLC2SB30NALF:00000005 [INF] Executing action method "Hooxit.Account.Controllers.AccountController.Register (Hooxit)" with arguments (["Hooxit.Presentation.Register"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:19.5558753+02:00 0HLC2SB30NALF:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:48:19.5781626+02:00 0HLC2SB30NALF:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:48:19.6564875+02:00 0HLC2SB30NALF:00000005 [INF] Executed DbCommand ("11"ms) [Parameters=["@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?', @p5='?', @p6='?', @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?' (Size = 4000), @p14='?', @p15='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [Password], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);" (0723d8ff)
2018-03-05T23:48:19.6983287+02:00 0HLC2SB30NALF:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:48:19.7280022+02:00 0HLC2SB30NALF:00000005 [INF] Executed DbCommand ("17"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p18='?' (Size = 450), @p3='?', @p4='?' (Size = 4000), @p19='?' (Size = 4000), @p5='?' (Size = 256), @p6='?', @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?', @p15='?' (Size = 4000), @p16='?', @p17='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();

UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [Password] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:48:19.7405548+02:00 0HLC2SB30NALF:00000005 [INF] User with username: sdhfu just registered (ee038597)
2018-03-05T23:48:19.7766273+02:00 0HLC2SB30NALF:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-05T23:48:19.8161359+02:00 0HLC2SB30NALF:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-05T23:48:19.8256993+02:00 0HLC2SB30NALF:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-05T23:48:19.8320230+02:00 0HLC2SB30NALF:00000005 [INF] Executing RedirectResult, redirecting to "/UserType". (d98d540e)
2018-03-05T23:48:19.8371449+02:00 0HLC2SB30NALF:00000005 [INF] Executed action "Hooxit.Account.Controllers.AccountController.Register (Hooxit)" in 362.0082ms (afa2e885)
2018-03-05T23:48:19.8435218+02:00 0HLC2SB30NALF:00000005 [INF] Request finished in 394.4711ms 302  (791a596a)
2018-03-05T23:48:19.8712791+02:00 0HLC2SB30NALF:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:49743/UserType   (ca22a1cb)
2018-03-05T23:48:19.8783713+02:00 0HLC2SB30NALF:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:19.8868713+02:00 0HLC2SB30NALF:00000006 [INF] Executing action method "Hooxit.Account.Controllers.UserTypeController.ChooseUserType (Hooxit)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:19.9843494+02:00 0HLC2SB30NALF:00000006 [INF] Executing ViewResult, running view at path "/Areas/Account/Views/UserType/ChooseUserType.cshtml". (9707eebe)
2018-03-05T23:48:20.1528255+02:00 0HLC2SB30NALF:00000006 [INF] Executed action "Hooxit.Account.Controllers.UserTypeController.ChooseUserType (Hooxit)" in 265.6536ms (afa2e885)
2018-03-05T23:48:20.1845765+02:00 0HLC2SB30NALF:00000006 [INF] Request finished in 287.9076ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:48:20.1899599+02:00 0HLC2SB30NALF:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:49743/js/site.js   (ca22a1cb)
2018-03-05T23:48:20.1959878+02:00 0HLC2SB30NALF:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:20.2023012+02:00 0HLC2SB30NALF:00000007 [INF] Request finished in 11.1751ms 404  (791a596a)
2018-03-05T23:48:22.6626722+02:00 0HLC2SB30NALF:00000008 [INF] Request starting HTTP/1.1 POST http://localhost:49743/UserType application/x-www-form-urlencoded 248 (ca22a1cb)
2018-03-05T23:48:22.6686668+02:00 0HLC2SB30NALF:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:22.6785715+02:00 0HLC2SB30NALF:00000008 [INF] Executing action method "Hooxit.Account.Controllers.UserTypeController.SetUserType (Hooxit)" with arguments (["Hooxit.Presentation.Write.UserType"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:22.6859278+02:00 0HLC2SB30NALF:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:48:22.6911973+02:00 0HLC2SB30NALF:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:48:22.7004922+02:00 0HLC2SB30NALF:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:48:22.7055721+02:00 0HLC2SB30NALF:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p18='?' (Size = 450), @p3='?', @p4='?' (Size = 4000), @p19='?' (Size = 4000), @p5='?' (Size = 256), @p6='?', @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?', @p15='?' (Size = 4000), @p16='?', @p17='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();

UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [Password] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:48:22.7120779+02:00 0HLC2SB30NALF:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:48:22.7346251+02:00 0HLC2SB30NALF:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Companies] ([UserId])
VALUES (@p0);
SELECT [Id]
FROM [Companies]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2018-03-05T23:48:22.7440226+02:00 0HLC2SB30NALF:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-05T23:48:22.7523991+02:00 0HLC2SB30NALF:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-05T23:48:22.7594708+02:00 0HLC2SB30NALF:00000008 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-05T23:48:22.7856800+02:00 0HLC2SB30NALF:00000008 [INF] Executing RedirectResult, redirecting to "/Company/Dashboard". (d98d540e)
2018-03-05T23:48:22.7898184+02:00 0HLC2SB30NALF:00000008 [INF] Executed action "Hooxit.Account.Controllers.UserTypeController.SetUserType (Hooxit)" in 112.6044ms (afa2e885)
2018-03-05T23:48:22.7938723+02:00 0HLC2SB30NALF:00000008 [INF] Request finished in 132.2789ms 302  (791a596a)
2018-03-05T23:48:22.8206800+02:00 0HLC2SB30NALF:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:49743/Company/Dashboard   (ca22a1cb)
2018-03-05T23:48:22.8244196+02:00 0HLC2SB30NALF:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:22.8294303+02:00 0HLC2SB30NALF:00000009 [INF] Executing action method "Hooxit.Areas.Company.Controllers.DashboardController.Index (Hooxit)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:22.9910096+02:00 0HLC2SB30NALF:00000009 [INF] Executing ViewResult, running view at path "/Areas/Company/Views/Dashboard/Index.cshtml". (9707eebe)
2018-03-05T23:48:23.3911521+02:00 0HLC2SB30NALF:00000009 [INF] Executed action "Hooxit.Areas.Company.Controllers.DashboardController.Index (Hooxit)" in 555.8114ms (afa2e885)
2018-03-05T23:48:23.4230673+02:00 0HLC2SB30NALF:00000009 [INF] Request finished in 576.0645ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:48:23.4483474+02:00 0HLC2SB30NALF:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:49743/css/font-awesome   (ca22a1cb)
2018-03-05T23:48:23.4720993+02:00 0HLC2SB30NALF:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:23.4968982+02:00 0HLC2SB30NALF:0000000A [INF] Request finished in 27.8436ms 404  (791a596a)
2018-03-05T23:48:25.4236993+02:00 0HLC2SB30NALF:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:49743/Company/Profile/sdhfu   (ca22a1cb)
2018-03-05T23:48:25.4276022+02:00 0HLC2SB30NALF:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:25.4331036+02:00 0HLC2SB30NALF:0000000B [INF] Executing action method "Hooxit.Areas.Company.Controllers.ProfileController.Profile (Hooxit)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:25.5393935+02:00 0HLC2SB30NALF:0000000B [INF] Executing ViewResult, running view at path "/Areas/Company/Views/Profile/Profile.cshtml". (9707eebe)
2018-03-05T23:48:25.5547794+02:00 0HLC2SB30NALF:0000000B [INF] Executed action "Hooxit.Areas.Company.Controllers.ProfileController.Profile (Hooxit)" in 121.5368ms (afa2e885)
2018-03-05T23:48:25.5775097+02:00 0HLC2SB30NALF:0000000B [INF] Request finished in 137.0854ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:48:25.5883792+02:00 0HLC2SB30NALF:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:49743/css/font-awesome   (ca22a1cb)
2018-03-05T23:48:25.6120328+02:00 0HLC2SB30NALF:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:25.6373694+02:00 0HLC2SB30NALF:0000000C [INF] Request finished in 29.3478ms 404  (791a596a)
2018-03-05T23:48:27.5199198+02:00 0HLC2SB30NALF:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:49743/Company/Positions/All/sdhfu   (ca22a1cb)
2018-03-05T23:48:27.5231394+02:00 0HLC2SB30NALF:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:27.5285417+02:00 0HLC2SB30NALF:0000000D [INF] Executing action method "Hooxit.Areas.Company.Controllers.PositionsController.All (Hooxit)" with arguments (["sdhfu"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:27.6146024+02:00 0HLC2SB30NALF:0000000D [INF] Executing ViewResult, running view at path "/Areas/Company/Views/Positions/All.cshtml". (9707eebe)
2018-03-05T23:48:27.6261981+02:00 0HLC2SB30NALF:0000000D [INF] Executed action "Hooxit.Areas.Company.Controllers.PositionsController.All (Hooxit)" in 95.047ms (afa2e885)
2018-03-05T23:48:27.6562450+02:00 0HLC2SB30NALF:0000000D [INF] Request finished in 111.4999ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:48:27.6834233+02:00 0HLC2SB30NALF:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:49743/css/font-awesome   (ca22a1cb)
2018-03-05T23:48:27.6879379+02:00 0HLC2SB30NALF:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:27.6927166+02:00 0HLC2SB30NALF:0000000E [INF] Request finished in 8.8672ms 404  (791a596a)
2018-03-05T23:48:29.0869497+02:00 0HLC2SB30NALF:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:49743/Company/Positions/Create   (ca22a1cb)
2018-03-05T23:48:29.1120858+02:00 0HLC2SB30NALF:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:29.1180879+02:00 0HLC2SB30NALF:0000000F [INF] Executing action method "Hooxit.Areas.Company.Controllers.PositionsController.Create (Hooxit)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:29.2363953+02:00 0HLC2SB30NALF:0000000F [INF] Executing ViewResult, running view at path "/Areas/Company/Views/Positions/CreatePosition.cshtml". (9707eebe)
2018-03-05T23:48:29.2724011+02:00 0HLC2SB30NALF:0000000F [INF] Executed action "Hooxit.Areas.Company.Controllers.PositionsController.Create (Hooxit)" in 153.5281ms (afa2e885)
2018-03-05T23:48:29.2775987+02:00 0HLC2SB30NALF:0000000F [INF] Request finished in 192.0727ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:48:29.3230524+02:00 0HLC2SB30NALD:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:49743/css/font-awesome   (ca22a1cb)
2018-03-05T23:48:29.3280213+02:00 0HLC2SB30NALE:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:49743/js/company/createPosition.js   (ca22a1cb)
2018-03-05T23:48:29.3575080+02:00 0HLC2SB30NALD:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:29.3847492+02:00 0HLC2SB30NALF:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:49743/js/base/TextEditor.js   (ca22a1cb)
2018-03-05T23:48:29.4118364+02:00 0HLC2SB30NALF:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:29.4597317+02:00 0HLC2SB30NALF:00000010 [INF] The file "/js/base/TextEditor.js" was not modified (f1f8d725)
2018-03-05T23:48:29.4825099+02:00 0HLC2SB30NALD:00000002 [INF] Request finished in 73.4416ms 404  (791a596a)
2018-03-05T23:48:29.4868436+02:00 0HLC2SB30NALF:00000010 [INF] Request finished in 146.2453ms 304 application/javascript (791a596a)
2018-03-05T23:48:29.5209875+02:00 0HLC2SB30NALE:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:29.5449571+02:00 0HLC2SB30NALE:00000002 [INF] The file "/js/company/createPosition.js" was not modified (f1f8d725)
2018-03-05T23:48:29.5521491+02:00 0HLC2SB30NALE:00000002 [INF] Request finished in 221.7192ms 304 application/javascript (791a596a)
2018-03-05T23:48:38.8245182+02:00 0HLC2SB30NALE:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:49743/Company/Account/Logout   (ca22a1cb)
2018-03-05T23:48:38.8290363+02:00 0HLC2SB30NALE:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:38.8390132+02:00 0HLC2SB30NALE:00000003 [INF] Request finished in 14.2596ms 404  (791a596a)
2018-03-05T23:48:43.4724910+02:00 0HLC2SB30NALE:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:49743/   (ca22a1cb)
2018-03-05T23:48:43.4770505+02:00 0HLC2SB30NALE:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:43.4820782+02:00 0HLC2SB30NALE:00000004 [INF] Executing action method "Hooxit.Account.Controllers.AccountController.Index (Hooxit)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:43.4878390+02:00 0HLC2SB30NALE:00000004 [INF] Executing ViewResult, running view at path "/Areas/Account/Views/Account/Index.cshtml". (9707eebe)
2018-03-05T23:48:43.5148676+02:00 0HLC2SB30NALE:00000004 [INF] Executed action "Hooxit.Account.Controllers.AccountController.Index (Hooxit)" in 12.456ms (afa2e885)
2018-03-05T23:48:43.5810844+02:00 0HLC2SB30NALF:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:49743/js/site.js   (ca22a1cb)
2018-03-05T23:48:43.5844538+02:00 0HLC2SB30NALE:00000004 [INF] Request finished in 92.1694ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:48:43.6070302+02:00 0HLC2SB30NALF:00000011 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:43.6128518+02:00 0HLC2SB30NALF:00000011 [INF] Request finished in 93.554ms 404  (791a596a)
2018-03-05T23:48:44.7159320+02:00 0HLC2SB30NALF:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:49743/Register   (ca22a1cb)
2018-03-05T23:48:44.7207110+02:00 0HLC2SB30NALF:00000012 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:44.7239013+02:00 0HLC2SB30NALF:00000012 [INF] Executing action method "Hooxit.Account.Controllers.AccountController.Register (Hooxit)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:44.7283352+02:00 0HLC2SB30NALF:00000012 [INF] Executing ViewResult, running view at path "/Areas/Account/Views/Account/Register.cshtml". (9707eebe)
2018-03-05T23:48:44.7391783+02:00 0HLC2SB30NALF:00000012 [INF] Executed action "Hooxit.Account.Controllers.AccountController.Register (Hooxit)" in 11.8908ms (afa2e885)
2018-03-05T23:48:44.7423946+02:00 0HLC2SB30NALF:00000012 [INF] Request finished in 30.539ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:48:44.7756629+02:00 0HLC2SB30NALF:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:49743/js/site.js   (ca22a1cb)
2018-03-05T23:48:44.8000542+02:00 0HLC2SB30NALF:00000013 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:44.8042383+02:00 0HLC2SB30NALF:00000013 [INF] Request finished in 33.0649ms 404  (791a596a)
2018-03-05T23:48:55.1468670+02:00 0HLC2SB30NALF:00000014 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Register application/x-www-form-urlencoded 307 (ca22a1cb)
2018-03-05T23:48:55.1522209+02:00 0HLC2SB30NALF:00000014 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:55.1559223+02:00 0HLC2SB30NALF:00000014 [INF] Executing action method "Hooxit.Account.Controllers.AccountController.Register (Hooxit)" with arguments (["Hooxit.Presentation.Register"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:55.1904594+02:00 0HLC2SB30NALF:00000014 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:48:55.1954861+02:00 0HLC2SB30NALF:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:48:55.2225008+02:00 0HLC2SB30NALF:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?', @p5='?', @p6='?', @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?' (Size = 4000), @p14='?', @p15='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [Password], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);" (0723d8ff)
2018-03-05T23:48:55.2294541+02:00 0HLC2SB30NALF:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:48:55.2370061+02:00 0HLC2SB30NALF:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p18='?' (Size = 450), @p3='?', @p4='?' (Size = 4000), @p19='?' (Size = 4000), @p5='?' (Size = 256), @p6='?', @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?', @p15='?' (Size = 4000), @p16='?', @p17='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();

UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [Password] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:48:55.2422143+02:00 0HLC2SB30NALF:00000014 [INF] User with username: dfgbdbfg just registered (4e8989d6)
2018-03-05T23:48:55.2495263+02:00 0HLC2SB30NALF:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-05T23:48:55.2555121+02:00 0HLC2SB30NALF:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-05T23:48:55.2590137+02:00 0HLC2SB30NALF:00000014 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-05T23:48:55.2625954+02:00 0HLC2SB30NALF:00000014 [INF] Executing RedirectResult, redirecting to "/UserType". (d98d540e)
2018-03-05T23:48:55.2666414+02:00 0HLC2SB30NALF:00000014 [INF] Executed action "Hooxit.Account.Controllers.AccountController.Register (Hooxit)" in 110.3511ms (afa2e885)
2018-03-05T23:48:55.2904561+02:00 0HLC2SB30NALF:00000014 [INF] Request finished in 126.5394ms 302  (791a596a)
2018-03-05T23:48:55.3181271+02:00 0HLC2SB30NALF:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:49743/UserType   (ca22a1cb)
2018-03-05T23:48:55.3226591+02:00 0HLC2SB30NALF:00000015 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:55.3261847+02:00 0HLC2SB30NALF:00000015 [INF] Executing action method "Hooxit.Account.Controllers.UserTypeController.ChooseUserType (Hooxit)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:55.3298476+02:00 0HLC2SB30NALF:00000015 [INF] Executing ViewResult, running view at path "/Areas/Account/Views/UserType/ChooseUserType.cshtml". (9707eebe)
2018-03-05T23:48:55.3374705+02:00 0HLC2SB30NALF:00000015 [INF] Executed action "Hooxit.Account.Controllers.UserTypeController.ChooseUserType (Hooxit)" in 8.556ms (afa2e885)
2018-03-05T23:48:55.3512095+02:00 0HLC2SB30NALF:00000015 [INF] Request finished in 25.5216ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:48:55.3781061+02:00 0HLC2SB30NALF:00000016 [INF] Request starting HTTP/1.1 GET http://localhost:49743/js/site.js   (ca22a1cb)
2018-03-05T23:48:55.4027044+02:00 0HLC2SB30NALF:00000016 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:55.4078213+02:00 0HLC2SB30NALF:00000016 [INF] Request finished in 29.3613ms 404  (791a596a)
2018-03-05T23:48:57.5753427+02:00 0HLC2SB30NALF:00000017 [INF] Request starting HTTP/1.1 POST http://localhost:49743/UserType application/x-www-form-urlencoded 250 (ca22a1cb)
2018-03-05T23:48:57.5999575+02:00 0HLC2SB30NALF:00000017 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:57.6039993+02:00 0HLC2SB30NALF:00000017 [INF] Executing action method "Hooxit.Account.Controllers.UserTypeController.SetUserType (Hooxit)" with arguments (["Hooxit.Presentation.Write.UserType"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:57.6069619+02:00 0HLC2SB30NALF:00000017 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:48:57.6113119+02:00 0HLC2SB30NALF:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:48:57.6371852+02:00 0HLC2SB30NALF:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:48:57.6428191+02:00 0HLC2SB30NALF:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p18='?' (Size = 450), @p3='?', @p4='?' (Size = 4000), @p19='?' (Size = 4000), @p5='?' (Size = 256), @p6='?', @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?', @p15='?' (Size = 4000), @p16='?', @p17='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();

UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [Password] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:48:57.6494289+02:00 0HLC2SB30NALF:00000017 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:48:57.6843581+02:00 0HLC2SB30NALF:00000017 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?', @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Candidates] ([CountryId], [CurrentPosition], [FirstName], [LastName], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Candidates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2018-03-05T23:48:57.6960735+02:00 0HLC2SB30NALF:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-05T23:48:57.7019541+02:00 0HLC2SB30NALF:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-05T23:48:57.7057360+02:00 0HLC2SB30NALF:00000017 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-05T23:48:57.7094156+02:00 0HLC2SB30NALF:00000017 [INF] Executing RedirectResult, redirecting to "/Dashboard". (d98d540e)
2018-03-05T23:48:57.7564342+02:00 0HLC2SB30NALF:00000017 [INF] Executed action "Hooxit.Account.Controllers.UserTypeController.SetUserType (Hooxit)" in 109.2257ms (afa2e885)
2018-03-05T23:48:57.7611638+02:00 0HLC2SB30NALF:00000017 [INF] Request finished in 187.2296ms 302  (791a596a)
2018-03-05T23:48:57.7885113+02:00 0HLC2SB30NALF:00000018 [INF] Request starting HTTP/1.1 GET http://localhost:49743/Dashboard   (ca22a1cb)
2018-03-05T23:48:57.7925650+02:00 0HLC2SB30NALF:00000018 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:48:57.8079927+02:00 0HLC2SB30NALF:00000018 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:48:57.8127787+02:00 0HLC2SB30NALF:00000018 [INF] Executing action method "Hooxit.Controllers.DashboardController.Index (Hooxit)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:48:57.9723485+02:00 0HLC2SB30NALF:00000018 [INF] Executing ViewResult, running view at path "/Areas/Candidate/Views/Dashboard/Index.cshtml". (9707eebe)
2018-03-05T23:48:58.1367907+02:00 0HLC2SB30NALF:00000018 [INF] Executed action "Hooxit.Controllers.DashboardController.Index (Hooxit)" in 336.9353ms (afa2e885)
2018-03-05T23:48:58.1592214+02:00 0HLC2SB30NALF:00000018 [INF] Request finished in 353.2176ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:49:00.0358935+02:00 0HLC2SB30NALF:00000019 [INF] Request starting HTTP/1.1 GET http://localhost:49743/Profile/dfgbdbfg   (ca22a1cb)
2018-03-05T23:49:00.0400540+02:00 0HLC2SB30NALF:00000019 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:49:00.0479444+02:00 0HLC2SB30NALF:00000019 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:49:00.0542937+02:00 0HLC2SB30NALF:00000019 [INF] Executing action method "Hooxit.Controllers.ProfileController.Profile (Hooxit)" with arguments (["dfgbdbfg"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:49:00.0620294+02:00 0HLC2SB30NALF:00000019 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:49:00.0698330+02:00 0HLC2SB30NALF:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:49:00.0775578+02:00 0HLC2SB30NALF:00000019 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:49:00.1089563+02:00 0HLC2SB30NALF:00000019 [INF] Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:49:00.1237074+02:00 0HLC2SB30NALF:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[ExperienceID], [e].[CandidateID], [e].[CompanyName], [e].[CreatedDate], [e].[Description], [e].[FromDate], [e].[Position], [e].[ToDate]
FROM [Experience] AS [e]" (0723d8ff)
2018-03-05T23:49:00.2428312+02:00 0HLC2SB30NALF:00000019 [INF] Executing ViewResult, running view at path "/Areas/Candidate/Views/Profile/Profile.cshtml". (9707eebe)
2018-03-05T23:49:00.2842075+02:00 0HLC2SB30NALF:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[Iso], [c].[Iso3], [c].[Name], [c].[Numcode], [c].[Phonecode]
FROM [Countries] AS [c]" (0723d8ff)
2018-03-05T23:49:00.6959332+02:00 0HLC2SB30NALF:00000019 [INF] Executed action "Hooxit.Controllers.ProfileController.Profile (Hooxit)" in 644.7577ms (afa2e885)
2018-03-05T23:49:00.7294528+02:00 0HLC2SB30NALF:00000019 [INF] Request finished in 666.7332ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:49:00.7678906+02:00 0HLC2SB30NALE:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:49743/js/profile/userQualification/userQualification.js   (ca22a1cb)
2018-03-05T23:49:00.7722926+02:00 0HLC2SB30NALE:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:49:00.8150545+02:00 0HLC2SB30NALF:0000001A [INF] Request starting HTTP/1.1 GET http://localhost:49743/js/profile/userInfo/userInfo.js   (ca22a1cb)
2018-03-05T23:49:00.8409957+02:00 0HLC2SB30NALE:00000005 [INF] Sending file. Request path: '"/js/profile/userQualification/userQualification.js"'. Physical path: '"C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\wwwroot\js\profile\userQualification\userQualification.js"' (27b0a520)
2018-03-05T23:49:00.8562604+02:00 0HLC2SB30NALF:0000001A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:49:00.8657504+02:00 0HLC2SB30NALF:0000001A [INF] Sending file. Request path: '"/js/profile/userInfo/userInfo.js"'. Physical path: '"C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\wwwroot\js\profile\userInfo\userInfo.js"' (27b0a520)
2018-03-05T23:49:00.8736168+02:00 0HLC2SB30NALF:0000001A [INF] Request finished in 132.0597ms 200 application/javascript (791a596a)
2018-03-05T23:49:00.9215294+02:00 0HLC2SB30NALE:00000005 [INF] Request finished in 130.2389ms 200 application/javascript (791a596a)
2018-03-05T23:49:00.9361403+02:00 0HLC2SB30NALD:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:49743/images/default-avatar.png   (ca22a1cb)
2018-03-05T23:49:00.9438107+02:00 0HLC2SB30NALD:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:49:00.9494732+02:00 0HLC2SB30NALD:00000003 [INF] Sending file. Request path: '"/images/default-avatar.png"'. Physical path: '"C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\wwwroot\images\default-avatar.png"' (27b0a520)
2018-03-05T23:49:00.9605023+02:00 0HLC2SB30NALD:00000003 [INF] Request finished in 236.4738ms 200 image/png (791a596a)
2018-03-05T23:49:36.0180088+02:00 0HLC2SB30NALD:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Candidate/Profile/ChangeCountry application/json 2 (ca22a1cb)
2018-03-05T23:49:36.0229620+02:00 0HLC2SB30NALD:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:49:36.0375087+02:00 0HLC2SB30NALD:00000004 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:49:36.1276250+02:00 0HLC2SB30NALD:00000004 [INF] Executing action method "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" with arguments (["Hooxit.Presentation.Write.ChangeCountry"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:49:36.1346343+02:00 0HLC2SB30NALD:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:49:36.1440549+02:00 0HLC2SB30NALD:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:49:36.1508758+02:00 0HLC2SB30NALD:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:49:36.1613358+02:00 0HLC2SB30NALD:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[Iso], [x].[Iso3], [x].[Name], [x].[Numcode], [x].[Phonecode]
FROM [Countries] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2018-03-05T23:49:36.1691178+02:00 0HLC2SB30NALD:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:49:36.1753160+02:00 0HLC2SB30NALD:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:49:36.1855665+02:00 0HLC2SB30NALD:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Password] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:49:36.4313527+02:00 0HLC2SB30NALD:00000004 [ERR] Failed executing DbCommand ("194"ms) [Parameters=["@p1='?', @p0='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Candidates] SET [CountryId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:4dd29d01-ef12-463f-a211-2c5f863e3c8b
Error Number:547,State:0,Class:16
2018-03-05T23:49:36.6308583+02:00 0HLC2SB30NALD:00000004 [ERR] An exception occurred in the database while saving changes for context type '"Data.HooxitDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint \"FK_Candidates_Countries_CountryId\". The conflict occurred in database \"Hooxit\", table \"dbo.Countries\", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
2018-03-05T23:49:37.1346499+02:00 0HLC2SB30NALD:00000004 [INF] Executed action "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" in 1097.0292ms (afa2e885)
2018-03-05T23:49:37.5577648+02:00 0HLC2SB30NALD:00000004 [ERR] An unhandled exception has occurred while executing the request (cf926119)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-03-05T23:49:37.6505286+02:00 0HLC2SB30NALD:00000004 [INF] Request finished in 1634.8514ms 500 text/html; charset=utf-8 (791a596a)
2018-03-05T23:49:40.8189820+02:00 0HLC2SB30NALD:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Candidate/Profile/ChangeCountry application/json 2 (ca22a1cb)
2018-03-05T23:49:40.8266672+02:00 0HLC2SB30NALD:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:49:40.8577327+02:00 0HLC2SB30NALD:00000005 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:49:40.8663584+02:00 0HLC2SB30NALD:00000005 [INF] Executing action method "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" with arguments (["Hooxit.Presentation.Write.ChangeCountry"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:49:40.8734077+02:00 0HLC2SB30NALD:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:49:40.8829675+02:00 0HLC2SB30NALD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:49:40.8882389+02:00 0HLC2SB30NALD:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:49:40.8925290+02:00 0HLC2SB30NALD:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[Iso], [x].[Iso3], [x].[Name], [x].[Numcode], [x].[Phonecode]
FROM [Countries] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2018-03-05T23:49:40.8969711+02:00 0HLC2SB30NALD:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:49:40.9032146+02:00 0HLC2SB30NALD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:49:40.9095446+02:00 0HLC2SB30NALD:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Password] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:49:41.0673179+02:00 0HLC2SB30NALD:00000005 [ERR] Failed executing DbCommand ("137"ms) [Parameters=["@p1='?', @p0='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Candidates] SET [CountryId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:4dd29d01-ef12-463f-a211-2c5f863e3c8b
Error Number:547,State:0,Class:16
2018-03-05T23:49:41.2688552+02:00 0HLC2SB30NALD:00000005 [ERR] An exception occurred in the database while saving changes for context type '"Data.HooxitDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint \"FK_Candidates_Countries_CountryId\". The conflict occurred in database \"Hooxit\", table \"dbo.Countries\", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
2018-03-05T23:49:41.6864157+02:00 0HLC2SB30NALD:00000005 [INF] Executed action "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" in 854.9381ms (afa2e885)
2018-03-05T23:49:42.0703999+02:00 0HLC2SB30NALD:00000005 [ERR] An unhandled exception has occurred while executing the request (cf926119)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-03-05T23:49:42.1373459+02:00 0HLC2SB30NALD:00000005 [INF] Request finished in 1325.0849ms 500 text/html; charset=utf-8 (791a596a)
2018-03-05T23:49:50.3000878+02:00 0HLC2SB30NALD:00000006 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Candidate/Profile/ChangeEmail application/json 23 (ca22a1cb)
2018-03-05T23:49:50.3117217+02:00 0HLC2SB30NALD:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:49:50.3304282+02:00 0HLC2SB30NALD:00000006 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:49:50.3557844+02:00 0HLC2SB30NALD:00000006 [INF] Executing action method "Hooxit.Controllers.ProfileController.ChangeEmail (Hooxit)" with arguments (["Hooxit.Presentation.Write.ChangeEmail"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:49:50.3628022+02:00 0HLC2SB30NALD:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:49:50.3676069+02:00 0HLC2SB30NALD:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:49:50.3745151+02:00 0HLC2SB30NALD:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:49:50.3809625+02:00 0HLC2SB30NALD:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Password] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:49:50.3914963+02:00 0HLC2SB30NALD:00000006 [INF] Executing JsonResult, writing value "{ value = yusf@Gyfd.f }". (7bb75e80)
2018-03-05T23:49:50.4036910+02:00 0HLC2SB30NALD:00000006 [INF] Executed action "Hooxit.Controllers.ProfileController.ChangeEmail (Hooxit)" in 74.8856ms (afa2e885)
2018-03-05T23:49:50.4086127+02:00 0HLC2SB30NALD:00000006 [INF] Request finished in 115.1519ms 200 application/json; charset=utf-8 (791a596a)
2018-03-05T23:49:53.7036822+02:00 0HLC2SB30NALD:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Candidate/Profile/ChangeCountry application/json 2 (ca22a1cb)
2018-03-05T23:49:53.7371893+02:00 0HLC2SB30NALD:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:49:53.7673796+02:00 0HLC2SB30NALD:00000007 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:49:53.8035524+02:00 0HLC2SB30NALD:00000007 [INF] Executing action method "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" with arguments (["Hooxit.Presentation.Write.ChangeCountry"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:49:53.8083225+02:00 0HLC2SB30NALD:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:49:53.8129683+02:00 0HLC2SB30NALD:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:49:53.8185958+02:00 0HLC2SB30NALD:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:49:53.8238252+02:00 0HLC2SB30NALD:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[Iso], [x].[Iso3], [x].[Name], [x].[Numcode], [x].[Phonecode]
FROM [Countries] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2018-03-05T23:49:53.8499410+02:00 0HLC2SB30NALD:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:49:53.8580730+02:00 0HLC2SB30NALD:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:49:53.8629357+02:00 0HLC2SB30NALD:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Password] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:49:54.0385000+02:00 0HLC2SB30NALD:00000007 [ERR] Failed executing DbCommand ("151"ms) [Parameters=["@p1='?', @p0='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Candidates] SET [CountryId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:4dd29d01-ef12-463f-a211-2c5f863e3c8b
Error Number:547,State:0,Class:16
2018-03-05T23:49:54.2428453+02:00 0HLC2SB30NALD:00000007 [ERR] An exception occurred in the database while saving changes for context type '"Data.HooxitDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint \"FK_Candidates_Countries_CountryId\". The conflict occurred in database \"Hooxit\", table \"dbo.Countries\", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
2018-03-05T23:49:54.6556236+02:00 0HLC2SB30NALD:00000007 [INF] Executed action "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" in 913.2578ms (afa2e885)
2018-03-05T23:49:55.0563631+02:00 0HLC2SB30NALD:00000007 [ERR] An unhandled exception has occurred while executing the request (cf926119)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-03-05T23:49:55.1168903+02:00 0HLC2SB30NALD:00000007 [INF] Request finished in 1421.4845ms 500 text/html; charset=utf-8 (791a596a)
2018-03-05T23:49:57.5722999+02:00 0HLC2SB30NALD:00000008 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Candidate/Profile/ChangePosition application/json 21 (ca22a1cb)
2018-03-05T23:49:57.5772983+02:00 0HLC2SB30NALD:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:49:57.5854746+02:00 0HLC2SB30NALD:00000008 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:49:57.5928470+02:00 0HLC2SB30NALD:00000008 [INF] Executing action method "Hooxit.Controllers.ProfileController.ChangePosition (Hooxit)" with arguments (["Hooxit.Presentation.Write.ChangeCurrentPosition"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:49:57.6002479+02:00 0HLC2SB30NALD:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:49:57.6053428+02:00 0HLC2SB30NALD:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:49:57.6088749+02:00 0HLC2SB30NALD:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:49:57.6125432+02:00 0HLC2SB30NALD:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:49:57.6182753+02:00 0HLC2SB30NALD:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:49:57.6234645+02:00 0HLC2SB30NALD:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Password] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:49:57.6318791+02:00 0HLC2SB30NALD:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?', @p0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Candidates] SET [CurrentPosition] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:49:57.6643824+02:00 0HLC2SB30NALD:00000008 [INF] Executing JsonResult, writing value "{ value = dsfsdf }". (7bb75e80)
2018-03-05T23:49:57.6690158+02:00 0HLC2SB30NALD:00000008 [INF] Executed action "Hooxit.Controllers.ProfileController.ChangePosition (Hooxit)" in 83.4413ms (afa2e885)
2018-03-05T23:49:57.6743222+02:00 0HLC2SB30NALD:00000008 [INF] Request finished in 101.8704ms 200 application/json; charset=utf-8 (791a596a)
2018-03-05T23:50:02.9040336+02:00 0HLC2SB30NALD:00000009 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Candidate/Profile/ChangeCountry application/json 2 (ca22a1cb)
2018-03-05T23:50:02.9116529+02:00 0HLC2SB30NALD:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:02.9167857+02:00 0HLC2SB30NALD:00000009 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:50:02.9239149+02:00 0HLC2SB30NALD:00000009 [INF] Executing action method "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" with arguments (["Hooxit.Presentation.Write.ChangeCountry"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:50:02.9287436+02:00 0HLC2SB30NALD:00000009 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:02.9383384+02:00 0HLC2SB30NALD:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:50:02.9425397+02:00 0HLC2SB30NALD:00000009 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:02.9465776+02:00 0HLC2SB30NALD:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[Iso], [x].[Iso3], [x].[Name], [x].[Numcode], [x].[Phonecode]
FROM [Countries] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2018-03-05T23:50:02.9513900+02:00 0HLC2SB30NALD:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:50:02.9792429+02:00 0HLC2SB30NALD:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:50:02.9874226+02:00 0HLC2SB30NALD:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Password] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:50:03.1568471+02:00 0HLC2SB30NALD:00000009 [ERR] Failed executing DbCommand ("149"ms) [Parameters=["@p1='?', @p0='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Candidates] SET [CountryId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:4dd29d01-ef12-463f-a211-2c5f863e3c8b
Error Number:547,State:0,Class:16
2018-03-05T23:50:03.3850412+02:00 0HLC2SB30NALD:00000009 [ERR] An exception occurred in the database while saving changes for context type '"Data.HooxitDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint \"FK_Candidates_Countries_CountryId\". The conflict occurred in database \"Hooxit\", table \"dbo.Countries\", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
2018-03-05T23:50:03.7136649+02:00 0HLC2SB30NALF:0000001B [INF] Request starting HTTP/1.1 GET http://localhost:49743/Profile/dfgbdbfg   (ca22a1cb)
2018-03-05T23:50:03.8211686+02:00 0HLC2SB30NALF:0000001B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:03.8997743+02:00 0HLC2SB30NALD:00000009 [INF] Executed action "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" in 936.9272ms (afa2e885)
2018-03-05T23:50:03.8998015+02:00 0HLC2SB30NALF:0000001B [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:50:04.0364632+02:00 0HLC2SB30NALF:0000001B [INF] Executing action method "Hooxit.Controllers.ProfileController.Profile (Hooxit)" with arguments (["dfgbdbfg"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:50:04.1063543+02:00 0HLC2SB30NALF:0000001B [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:04.2663690+02:00 0HLC2SB30NALF:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:50:04.2714463+02:00 0HLC2SB30NALF:0000001B [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:04.2783061+02:00 0HLC2SB30NALF:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:50:04.2868702+02:00 0HLC2SB30NALF:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[ExperienceID], [e].[CandidateID], [e].[CompanyName], [e].[CreatedDate], [e].[Description], [e].[FromDate], [e].[Position], [e].[ToDate]
FROM [Experience] AS [e]" (0723d8ff)
2018-03-05T23:50:04.2922952+02:00 0HLC2SB30NALF:0000001B [INF] Executing ViewResult, running view at path "/Areas/Candidate/Views/Profile/Profile.cshtml". (9707eebe)
2018-03-05T23:50:04.3004805+02:00 0HLC2SB30NALF:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[Iso], [c].[Iso3], [c].[Name], [c].[Numcode], [c].[Phonecode]
FROM [Countries] AS [c]" (0723d8ff)
2018-03-05T23:50:04.3148383+02:00 0HLC2SB30NALF:0000001B [INF] Executed action "Hooxit.Controllers.ProfileController.Profile (Hooxit)" in 458.4815ms (afa2e885)
2018-03-05T23:50:04.3275795+02:00 0HLC2SB30NALF:0000001B [INF] Request finished in 688.1365ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:50:04.3973821+02:00 0HLC2SB30NALD:00000009 [ERR] An unhandled exception has occurred while executing the request (cf926119)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-03-05T23:50:04.4538851+02:00 0HLC2SB30NALD:00000009 [INF] Request finished in 1560.2846ms 500 text/html; charset=utf-8 (791a596a)
2018-03-05T23:50:04.4786260+02:00 0HLC2SB30NALF:0000001C [INF] Request starting HTTP/1.1 GET http://localhost:49743/favicon.ico   (ca22a1cb)
2018-03-05T23:50:04.5046975+02:00 0HLC2SB30NALF:0000001C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:04.5088538+02:00 0HLC2SB30NALF:0000001C [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\wwwroot\favicon.ico"' (27b0a520)
2018-03-05T23:50:04.5129860+02:00 0HLC2SB30NALF:0000001C [INF] Request finished in 33.7579ms 200 image/x-icon (791a596a)
2018-03-05T23:50:09.9686474+02:00 0HLC2SB30NALF:0000001D [INF] Request starting HTTP/1.1 GET http://localhost:49743/css/bootstrap.css.map   (ca22a1cb)
2018-03-05T23:50:09.9925552+02:00 0HLC2SB30NALE:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:49743/css/material-kit.css.map   (ca22a1cb)
2018-03-05T23:50:10.0216380+02:00 0HLC2SB30NALF:0000001D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:10.0340620+02:00 0HLC2SB30NALF:0000001D [INF] Request finished in 120.4021ms 404  (791a596a)
2018-03-05T23:50:10.0631482+02:00 0HLC2SB30NALE:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:10.0718852+02:00 0HLC2SB30NALE:00000006 [INF] Request finished in 161.0952ms 404  (791a596a)
2018-03-05T23:50:21.0899931+02:00 0HLC2SB30NALE:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Candidate/Profile/ChangePosition application/json 27 (ca22a1cb)
2018-03-05T23:50:21.1166864+02:00 0HLC2SB30NALE:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:21.1216315+02:00 0HLC2SB30NALE:00000007 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:50:21.1468185+02:00 0HLC2SB30NALE:00000007 [INF] Executing action method "Hooxit.Controllers.ProfileController.ChangePosition (Hooxit)" with arguments (["Hooxit.Presentation.Write.ChangeCurrentPosition"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:50:21.1809644+02:00 0HLC2SB30NALE:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:21.1854383+02:00 0HLC2SB30NALE:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:50:21.2175292+02:00 0HLC2SB30NALE:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:21.2216220+02:00 0HLC2SB30NALE:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:50:21.2263246+02:00 0HLC2SB30NALE:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:50:21.2310752+02:00 0HLC2SB30NALE:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Password] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:50:21.2386601+02:00 0HLC2SB30NALE:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@p1='?', @p0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Candidates] SET [CurrentPosition] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:50:21.2429705+02:00 0HLC2SB30NALE:00000007 [INF] Executing JsonResult, writing value "{ value = dsfsdfsdfsfd }". (7bb75e80)
2018-03-05T23:50:21.2484007+02:00 0HLC2SB30NALE:00000007 [INF] Executed action "Hooxit.Controllers.ProfileController.ChangePosition (Hooxit)" in 126.2077ms (afa2e885)
2018-03-05T23:50:21.2538947+02:00 0HLC2SB30NALE:00000007 [INF] Request finished in 176.9402ms 200 application/json; charset=utf-8 (791a596a)
2018-03-05T23:50:26.0298044+02:00 0HLC2SB30NALE:00000008 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Candidate/Profile/ChangeCountry application/json 2 (ca22a1cb)
2018-03-05T23:50:26.0417427+02:00 0HLC2SB30NALE:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:26.0467077+02:00 0HLC2SB30NALE:00000008 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:50:26.0845690+02:00 0HLC2SB30NALE:00000008 [INF] Executing action method "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" with arguments (["Hooxit.Presentation.Write.ChangeCountry"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:50:26.0889097+02:00 0HLC2SB30NALE:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:26.0956671+02:00 0HLC2SB30NALE:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:50:26.1201186+02:00 0HLC2SB30NALE:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:26.1266886+02:00 0HLC2SB30NALE:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[Iso], [x].[Iso3], [x].[Name], [x].[Numcode], [x].[Phonecode]
FROM [Countries] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2018-03-05T23:50:26.1329330+02:00 0HLC2SB30NALE:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:50:26.1390671+02:00 0HLC2SB30NALE:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:50:26.1493930+02:00 0HLC2SB30NALE:00000008 [INF] Executed DbCommand ("4"ms) [Parameters=["@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Password] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:50:26.3378968+02:00 0HLC2SB30NALE:00000008 [ERR] Failed executing DbCommand ("145"ms) [Parameters=["@p1='?', @p0='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Candidates] SET [CountryId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:4dd29d01-ef12-463f-a211-2c5f863e3c8b
Error Number:547,State:0,Class:16
2018-03-05T23:50:26.5644468+02:00 0HLC2SB30NALE:00000008 [ERR] An exception occurred in the database while saving changes for context type '"Data.HooxitDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint \"FK_Candidates_Countries_CountryId\". The conflict occurred in database \"Hooxit\", table \"dbo.Countries\", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
2018-03-05T23:50:27.0439168+02:00 0HLC2SB30NALE:00000008 [INF] Executed action "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" in 997.1249ms (afa2e885)
2018-03-05T23:50:27.4374690+02:00 0HLC2SB30NALE:00000008 [ERR] An unhandled exception has occurred while executing the request (cf926119)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-03-05T23:50:27.4749280+02:00 0HLC2SB30NALF:0000001E [INF] Request starting HTTP/1.1 GET http://localhost:49743/Profile/dfgbdbfg   (ca22a1cb)
2018-03-05T23:50:27.4807600+02:00 0HLC2SB30NALF:0000001E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:27.5052435+02:00 0HLC2SB30NALF:0000001E [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:50:27.5102457+02:00 0HLC2SB30NALF:0000001E [INF] Executing action method "Hooxit.Controllers.ProfileController.Profile (Hooxit)" with arguments (["dfgbdbfg"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:50:27.5167657+02:00 0HLC2SB30NALF:0000001E [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:27.5248146+02:00 0HLC2SB30NALF:0000001E [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:50:27.5547110+02:00 0HLC2SB30NALF:0000001E [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:27.5593415+02:00 0HLC2SB30NALF:0000001E [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:50:27.5874498+02:00 0HLC2SB30NALF:0000001E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[ExperienceID], [e].[CandidateID], [e].[CompanyName], [e].[CreatedDate], [e].[Description], [e].[FromDate], [e].[Position], [e].[ToDate]
FROM [Experience] AS [e]" (0723d8ff)
2018-03-05T23:50:27.6116527+02:00 0HLC2SB30NALF:0000001E [INF] Executing ViewResult, running view at path "/Areas/Candidate/Views/Profile/Profile.cshtml". (9707eebe)
2018-03-05T23:50:27.6167852+02:00 0HLC2SB30NALF:0000001E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[Iso], [c].[Iso3], [c].[Name], [c].[Numcode], [c].[Phonecode]
FROM [Countries] AS [c]" (0723d8ff)
2018-03-05T23:50:27.6272612+02:00 0HLC2SB30NALF:0000001E [INF] Executed action "Hooxit.Controllers.ProfileController.Profile (Hooxit)" in 141.15ms (afa2e885)
2018-03-05T23:50:27.6605347+02:00 0HLC2SB30NALF:0000001E [INF] Request finished in 161.2623ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:50:27.6887345+02:00 0HLC2SB30NALE:00000008 [INF] Request finished in 1670.8437ms 500 text/html; charset=utf-8 (791a596a)
2018-03-05T23:50:27.7802523+02:00 0HLC2SB30NALF:0000001F [INF] Request starting HTTP/1.1 GET http://localhost:49743/css/bootstrap.css.map   (ca22a1cb)
2018-03-05T23:50:27.8243821+02:00 0HLC2SB30NALF:0000001F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:27.8262129+02:00 0HLC2SB30NALM:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:49743/css/material-kit.css.map   (ca22a1cb)
2018-03-05T23:50:27.8516791+02:00 0HLC2SB30NALF:0000001F [INF] Request finished in 54.234ms 404  (791a596a)
2018-03-05T23:50:27.8562355+02:00 0HLC2SB30NALM:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:27.8797652+02:00 0HLC2SB30NALM:00000001 [INF] Request finished in 77.3994ms 404  (791a596a)
2018-03-05T23:50:29.6525599+02:00 0HLC2SB30NALM:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:49743/Profile/dfgbdbfg   (ca22a1cb)
2018-03-05T23:50:29.6784970+02:00 0HLC2SB30NALM:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:29.6831840+02:00 0HLC2SB30NALM:00000002 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:50:29.6870564+02:00 0HLC2SB30NALM:00000002 [INF] Executing action method "Hooxit.Controllers.ProfileController.Profile (Hooxit)" with arguments (["dfgbdbfg"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:50:29.7125122+02:00 0HLC2SB30NALM:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:29.7187285+02:00 0HLC2SB30NALM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:50:29.7245141+02:00 0HLC2SB30NALM:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:29.7304110+02:00 0HLC2SB30NALM:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:50:29.7580090+02:00 0HLC2SB30NALM:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[ExperienceID], [e].[CandidateID], [e].[CompanyName], [e].[CreatedDate], [e].[Description], [e].[FromDate], [e].[Position], [e].[ToDate]
FROM [Experience] AS [e]" (0723d8ff)
2018-03-05T23:50:29.7640445+02:00 0HLC2SB30NALM:00000002 [INF] Executing ViewResult, running view at path "/Areas/Candidate/Views/Profile/Profile.cshtml". (9707eebe)
2018-03-05T23:50:29.7734870+02:00 0HLC2SB30NALM:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[Iso], [c].[Iso3], [c].[Name], [c].[Numcode], [c].[Phonecode]
FROM [Countries] AS [c]" (0723d8ff)
2018-03-05T23:50:29.7856366+02:00 0HLC2SB30NALM:00000002 [INF] Executed action "Hooxit.Controllers.ProfileController.Profile (Hooxit)" in 97.9351ms (afa2e885)
2018-03-05T23:50:29.8504549+02:00 0HLC2SB30NALM:00000002 [INF] Request finished in 151.2289ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:50:29.9928756+02:00 0HLC2SB30NALF:00000020 [INF] Request starting HTTP/1.1 GET http://localhost:49743/css/material-kit.css.map   (ca22a1cb)
2018-03-05T23:50:29.9949390+02:00 0HLC2SB30NALM:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:49743/css/bootstrap.css.map   (ca22a1cb)
2018-03-05T23:50:30.0130030+02:00 0HLC2SB30NALM:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:30.0375915+02:00 0HLC2SB30NALF:00000020 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:30.0811839+02:00 0HLC2SB30NALM:00000003 [INF] Request finished in 70.4566ms 404  (791a596a)
2018-03-05T23:50:30.1062911+02:00 0HLC2SB30NALF:00000020 [INF] Request finished in 92.9749ms 404  (791a596a)
2018-03-05T23:50:36.4184190+02:00 0HLC2SB30NALF:00000021 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Candidate/Profile/ChangeCountry application/json 2 (ca22a1cb)
2018-03-05T23:50:36.4229871+02:00 0HLC2SB30NALF:00000021 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:50:36.4274665+02:00 0HLC2SB30NALF:00000021 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:50:36.4316510+02:00 0HLC2SB30NALF:00000021 [INF] Executing action method "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" with arguments (["Hooxit.Presentation.Write.ChangeCountry"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:50:36.4375451+02:00 0HLC2SB30NALF:00000021 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:36.4439566+02:00 0HLC2SB30NALF:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:50:36.4483157+02:00 0HLC2SB30NALF:00000021 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:50:36.4536288+02:00 0HLC2SB30NALF:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[Iso], [x].[Iso3], [x].[Name], [x].[Numcode], [x].[Phonecode]
FROM [Countries] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2018-03-05T23:50:36.4790511+02:00 0HLC2SB30NALF:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:50:36.4861446+02:00 0HLC2SB30NALF:00000021 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:50:36.4907879+02:00 0HLC2SB30NALF:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Password] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:50:36.6518551+02:00 0HLC2SB30NALF:00000021 [ERR] Failed executing DbCommand ("140"ms) [Parameters=["@p1='?', @p0='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Candidates] SET [CountryId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:4dd29d01-ef12-463f-a211-2c5f863e3c8b
Error Number:547,State:0,Class:16
2018-03-05T23:50:36.9147464+02:00 0HLC2SB30NALF:00000021 [ERR] An exception occurred in the database while saving changes for context type '"Data.HooxitDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint \"FK_Candidates_Countries_CountryId\". The conflict occurred in database \"Hooxit\", table \"dbo.Countries\", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
2018-03-05T23:50:37.3266464+02:00 0HLC2SB30NALF:00000021 [INF] Executed action "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" in 898.6072ms (afa2e885)
2018-03-05T23:50:37.6851058+02:00 0HLC2SB30NALF:00000021 [ERR] An unhandled exception has occurred while executing the request (cf926119)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-03-05T23:50:37.7509507+02:00 0HLC2SB30NALF:00000021 [INF] Request finished in 1335.9396ms 500 text/html; charset=utf-8 (791a596a)
2018-03-05T23:51:42.8408488+02:00 0HLC2SB30NALF:00000022 [INF] Request starting HTTP/1.1 GET http://localhost:49743/font/roboto/Roboto-Medium.woff2   (ca22a1cb)
2018-03-05T23:51:42.8479722+02:00 0HLC2SB30NALF:00000022 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:51:42.8722441+02:00 0HLC2SB30NALF:00000022 [INF] Sending file. Request path: '"/font/roboto/Roboto-Medium.woff2"'. Physical path: '"C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\wwwroot\font\roboto\Roboto-Medium.woff2"' (27b0a520)
2018-03-05T23:51:42.8768890+02:00 0HLC2SB30NALF:00000022 [INF] Request finished in 41.2829ms 200 font/woff2 (791a596a)
2018-03-05T23:51:49.5292741+02:00 0HLC2SB30NALF:00000023 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Candidate/Experience/AddExperience application/x-www-form-urlencoded; charset=UTF-8 344 (ca22a1cb)
2018-03-05T23:51:49.5343582+02:00 0HLC2SB30NALF:00000023 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:51:49.5456519+02:00 0HLC2SB30NALF:00000023 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:51:49.5562634+02:00 0HLC2SB30NALF:00000023 [INF] Executing action method "Hooxit.Controllers.ExperienceController.AddExperience (Hooxit)" with arguments (["Hooxit.Presentation.Write.ExperienceWriteModel"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:51:49.5646726+02:00 0HLC2SB30NALF:00000023 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:51:49.5741506+02:00 0HLC2SB30NALF:00000023 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:51:49.5790262+02:00 0HLC2SB30NALF:00000023 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:51:49.5841128+02:00 0HLC2SB30NALF:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:51:49.5923911+02:00 0HLC2SB30NALF:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[ExperienceID], [e].[CandidateID], [e].[CompanyName], [e].[CreatedDate], [e].[Description], [e].[FromDate], [e].[Position], [e].[ToDate]
FROM [Experience] AS [e]" (0723d8ff)
2018-03-05T23:51:49.5980924+02:00 0HLC2SB30NALF:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:51:49.6068673+02:00 0HLC2SB30NALF:00000023 [INF] Executed DbCommand ("4"ms) [Parameters=["@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Password] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:51:49.6340122+02:00 0HLC2SB30NALF:00000023 [INF] Executed DbCommand ("4"ms) [Parameters=["@p1='?', @p0='?' (Size = 4000), @p2='?', @p3='?' (Size = 4000), @p4='?', @p5='?' (Size = 4000), @p6='?', @p7='?' (Size = 4000), @p8='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Candidates] SET [CurrentPosition] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

INSERT INTO [Experience] ([CandidateID], [CompanyName], [CreatedDate], [Description], [FromDate], [Position], [ToDate])
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ExperienceID]
FROM [Experience]
WHERE @@ROWCOUNT = 1 AND [ExperienceID] = scope_identity();" (0723d8ff)
2018-03-05T23:51:49.7659209+02:00 0HLC2SB30NALF:00000023 [INF] Executing PartialViewResult, running view at path "/Areas/Candidate/Views/Experience/../Experience/_SingleExperiencePartial.cshtml". (6b910aca)
2018-03-05T23:51:49.7769651+02:00 0HLC2SB30NALF:00000023 [INF] Executed action "Hooxit.Controllers.ExperienceController.AddExperience (Hooxit)" in 231.8825ms (afa2e885)
2018-03-05T23:51:49.8011170+02:00 0HLC2SB30NALF:00000023 [INF] Request finished in 253.7541ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:51:51.8997261+02:00 0HLC2SB30NALF:00000024 [INF] Request starting HTTP/1.1 GET http://localhost:49743/Profile/dfgbdbfg   (ca22a1cb)
2018-03-05T23:51:51.9065307+02:00 0HLC2SB30NALF:00000024 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:51:51.9326788+02:00 0HLC2SB30NALF:00000024 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:51:51.9394683+02:00 0HLC2SB30NALF:00000024 [INF] Executing action method "Hooxit.Controllers.ProfileController.Profile (Hooxit)" with arguments (["dfgbdbfg"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:51:51.9451731+02:00 0HLC2SB30NALF:00000024 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:51:51.9526500+02:00 0HLC2SB30NALF:00000024 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:51:51.9790520+02:00 0HLC2SB30NALF:00000024 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:51:51.9833559+02:00 0HLC2SB30NALF:00000024 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:51:52.0081239+02:00 0HLC2SB30NALF:00000024 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[ExperienceID], [e].[CandidateID], [e].[CompanyName], [e].[CreatedDate], [e].[Description], [e].[FromDate], [e].[Position], [e].[ToDate]
FROM [Experience] AS [e]" (0723d8ff)
2018-03-05T23:51:52.0155335+02:00 0HLC2SB30NALF:00000024 [INF] Executing ViewResult, running view at path "/Areas/Candidate/Views/Profile/Profile.cshtml". (9707eebe)
2018-03-05T23:51:52.0210141+02:00 0HLC2SB30NALF:00000024 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[Iso], [c].[Iso3], [c].[Name], [c].[Numcode], [c].[Phonecode]
FROM [Countries] AS [c]" (0723d8ff)
2018-03-05T23:51:52.1244725+02:00 0HLC2SB30NALF:00000024 [INF] Executed action "Hooxit.Controllers.ProfileController.Profile (Hooxit)" in 212.6207ms (afa2e885)
2018-03-05T23:51:52.1321118+02:00 0HLC2SB30NALF:00000024 [INF] Request finished in 235.1647ms 200 text/html; charset=utf-8 (791a596a)
2018-03-05T23:51:52.2346245+02:00 0HLC2SB30NALF:00000025 [INF] Request starting HTTP/1.1 GET http://localhost:49743/favicon.ico   (ca22a1cb)
2018-03-05T23:51:52.2395654+02:00 0HLC2SB30NALF:00000025 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:51:52.2433407+02:00 0HLC2SB30NALF:00000025 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\wwwroot\favicon.ico"' (27b0a520)
2018-03-05T23:51:52.2495126+02:00 0HLC2SB30NALF:00000025 [INF] Request finished in 14.4973ms 200 image/x-icon (791a596a)
2018-03-05T23:51:58.2034689+02:00 0HLC2SB30NALF:00000026 [INF] Request starting HTTP/1.1 POST http://localhost:49743/Candidate/Profile/ChangeCountry application/json 2 (ca22a1cb)
2018-03-05T23:51:58.2101544+02:00 0HLC2SB30NALF:00000026 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:51:58.2186858+02:00 0HLC2SB30NALF:00000026 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:51:58.2252837+02:00 0HLC2SB30NALF:00000026 [INF] Executing action method "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" with arguments (["Hooxit.Presentation.Write.ChangeCountry"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:51:58.2305548+02:00 0HLC2SB30NALF:00000026 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:51:58.2364966+02:00 0HLC2SB30NALF:00000026 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:51:58.2632653+02:00 0HLC2SB30NALF:00000026 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:51:58.2709892+02:00 0HLC2SB30NALF:00000026 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[Iso], [x].[Iso3], [x].[Name], [x].[Numcode], [x].[Phonecode]
FROM [Countries] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2018-03-05T23:51:58.2751333+02:00 0HLC2SB30NALF:00000026 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:51:58.2799502+02:00 0HLC2SB30NALF:00000026 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:51:58.2849845+02:00 0HLC2SB30NALF:00000026 [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Password] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2018-03-05T23:51:58.4643397+02:00 0HLC2SB30NALF:00000026 [ERR] Failed executing DbCommand ("139"ms) [Parameters=["@p1='?', @p0='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Candidates] SET [CountryId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:4dd29d01-ef12-463f-a211-2c5f863e3c8b
Error Number:547,State:0,Class:16
2018-03-05T23:51:58.6627689+02:00 0HLC2SB30NALF:00000026 [ERR] An exception occurred in the database while saving changes for context type '"Data.HooxitDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint \"FK_Candidates_Countries_CountryId\". The conflict occurred in database \"Hooxit\", table \"dbo.Countries\", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
2018-03-05T23:51:59.1145280+02:00 0HLC2SB30NALF:00000026 [INF] Executed action "Hooxit.Controllers.ProfileController.ChangeCountry (Hooxit)" in 898.5501ms (afa2e885)
2018-03-05T23:51:59.4714689+02:00 0HLC2SB30NALF:00000026 [ERR] An unhandled exception has occurred while executing the request (cf926119)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Candidates_Countries_CountryId". The conflict occurred in database "Hooxit", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Data.HooxitDbContext.SaveChanges() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Implementation\HooxitDbContext.cs:line 22
   at Hooxit.Data.Repository.CandidateRepository.Save() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Data\Repository\CandidateRepository.cs:line 31
   at Hooxit.Services.Implementation.Profile.ChangeCountryHandler.<Handle>d__4.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit.Services\Implementation\UserInfoHandlers\ChangeCountryHandler.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Hooxit.Controllers.ProfileController.<ChangeCountry>d__8.MoveNext() in C:\Users\Viktor\Desktop\hooxit new\Hooxit\Hooxit\Areas\Candidate\Controllers\ProfileController.cs:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-03-05T23:51:59.5286927+02:00 0HLC2SB30NALF:00000026 [INF] Request finished in 1329.4639ms 500 text/html; charset=utf-8 (791a596a)
2018-03-05T23:52:37.9154374+02:00 0HLC2SB30NALF:00000027 [INF] Request starting HTTP/1.1 GET http://localhost:49743/Profile/dfgbdbfg   (ca22a1cb)
2018-03-05T23:52:37.9401689+02:00 0HLC2SB30NALF:00000027 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:52:37.9438944+02:00 0HLC2SB30NALF:00000027 [INF] Authorization was successful for user: "dfgbdbfg". (d7eb274a)
2018-03-05T23:52:37.9481271+02:00 0HLC2SB30NALF:00000027 [INF] Executing action method "Hooxit.Controllers.ProfileController.Profile (Hooxit)" with arguments (["dfgbdbfg"]) - ModelState is Valid (ba7f4ac2)
2018-03-05T23:52:37.9536570+02:00 0HLC2SB30NALF:00000027 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:52:37.9620059+02:00 0HLC2SB30NALF:00000027 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-05T23:52:37.9664756+02:00 0HLC2SB30NALF:00000027 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:52:37.9735351+02:00 0HLC2SB30NALF:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CountryId], [x].[CurrentPosition], [x].[FirstName], [x].[LastName], [x].[UserId]
FROM [Candidates] AS [x]
WHERE [x].[UserId] = @__id_0" (0723d8ff)
2018-03-05T23:52:37.9789333+02:00 0HLC2SB30NALF:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[ExperienceID], [e].[CandidateID], [e].[CompanyName], [e].[CreatedDate], [e].[Description], [e].[FromDate], [e].[Position], [e].[ToDate]
FROM [Experience] AS [e]" (0723d8ff)
2018-03-05T23:52:38.0041649+02:00 0HLC2SB30NALF:00000027 [INF] Executing ViewResult, running view at path "/Areas/Candidate/Views/Profile/Profile.cshtml". (9707eebe)
2018-03-05T23:52:57.5863353+02:00 0HLC2SB30NALF:00000027 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[Iso], [c].[Iso3], [c].[Name], [c].[Numcode], [c].[Phonecode]
FROM [Countries] AS [c]" (0723d8ff)
2018-03-05T23:53:35.0801858+02:00  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"HooxitDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-05T23:53:35.3698207+02:00  [INF] Executed DbCommand ("43"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2018-03-05T23:53:35.3968916+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2018-03-05T23:53:36.7805248+02:00 0HLC2SE5PPOE4:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:49743/   (ca22a1cb)
2018-03-05T23:53:36.8277630+02:00 0HLC2SE5PPOE4:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-05T23:53:37.0591952+02:00 0HLC2SE5PPOE4:00000001 [INF] Executing action method "Hooxit.Account.Controllers.AccountController.Index (Hooxit)" with arguments (null) - ModelState is Valid (ba7f4ac2)
